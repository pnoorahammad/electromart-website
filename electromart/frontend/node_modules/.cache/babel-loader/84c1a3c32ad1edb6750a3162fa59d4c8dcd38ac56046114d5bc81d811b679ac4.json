{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pogak\\\\Downloads\\\\electromart\\\\electromart\\\\frontend\\\\src\\\\pages\\\\CartPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport Navbar from '../components/Navbar';\nimport Toast from '../components/Toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CartPage({\n  darkMode,\n  toggleDark\n}) {\n  _s();\n  const {\n    cartCount,\n    setCartCount\n  } = useAuth();\n  const [cart, setCart] = useState(() => JSON.parse(localStorage.getItem('em_cart') || '[]'));\n  const [toast, setToast] = useState(null);\n  useEffect(() => {\n    setCartCount(cart.length);\n    localStorage.setItem('em_cart', JSON.stringify(cart));\n  }, [cart, setCartCount]);\n  const updateQty = (id, delta) => {\n    setCart(prev => prev.map(item => {\n      if (item.id !== id) return item;\n      const newQty = item.quantity + delta;\n      if (newQty < 1) return item;\n      return {\n        ...item,\n        quantity: newQty\n      };\n    }));\n  };\n  const removeItem = id => {\n    setCart(prev => prev.filter(item => item.id !== id));\n    setToast({\n      message: 'Item removed from cart',\n      type: 'error'\n    });\n  };\n  const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart-page\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      darkMode: darkMode,\n      toggleDark: toggleDark,\n      cartCount: cartCount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"cart-title\",\n        children: \"Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), cart.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-empty\",\n        children: \"\\uD83D\\uDED2 Your cart is empty. Go to dashboard to add products!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-container\",\n          children: cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u20B9\", item.price.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"qty-controls\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"qty-btn\",\n                  onClick: () => updateQty(item.id, -1),\n                  children: \"\\u2212\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"qty-value\",\n                  children: item.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"qty-btn\",\n                  onClick: () => updateQty(item.id, 1),\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-remove\",\n                onClick: () => removeItem(item.id),\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 19\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-total\",\n          children: [\"Total: \\u20B9\", total.toLocaleString('en-IN', {\n            minimumFractionDigits: 2\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), toast && /*#__PURE__*/_jsxDEV(Toast, {\n      message: toast.message,\n      type: toast.type,\n      onClose: () => setToast(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n}\n_s(CartPage, \"f1QS2UVZZd9bDP0mbdra5Guu5+4=\", false, function () {\n  return [useAuth];\n});\n_c = CartPage;\nvar _c;\n$RefreshReg$(_c, \"CartPage\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","Navbar","Toast","jsxDEV","_jsxDEV","Fragment","_Fragment","CartPage","darkMode","toggleDark","_s","cartCount","setCartCount","cart","setCart","JSON","parse","localStorage","getItem","toast","setToast","length","setItem","stringify","updateQty","id","delta","prev","map","item","newQty","quantity","removeItem","filter","message","type","total","reduce","sum","price","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","toLocaleString","onClick","minimumFractionDigits","onClose","_c","$RefreshReg$"],"sources":["C:/Users/pogak/Downloads/electromart/electromart/frontend/src/pages/CartPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport Navbar from '../components/Navbar';\nimport Toast from '../components/Toast';\n\nexport default function CartPage({ darkMode, toggleDark }) {\n  const { cartCount, setCartCount } = useAuth();\n  const [cart, setCart] = useState(() => JSON.parse(localStorage.getItem('em_cart') || '[]'));\n  const [toast, setToast] = useState(null);\n\n  useEffect(() => {\n    setCartCount(cart.length);\n    localStorage.setItem('em_cart', JSON.stringify(cart));\n  }, [cart, setCartCount]);\n\n  const updateQty = (id, delta) => {\n    setCart(prev =>\n      prev.map(item => {\n        if (item.id !== id) return item;\n        const newQty = item.quantity + delta;\n        if (newQty < 1) return item;\n        return { ...item, quantity: newQty };\n      })\n    );\n  };\n\n  const removeItem = (id) => {\n    setCart(prev => prev.filter(item => item.id !== id));\n    setToast({ message: 'Item removed from cart', type: 'error' });\n  };\n\n  const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);\n\n  return (\n    <div className=\"cart-page\">\n      <Navbar darkMode={darkMode} toggleDark={toggleDark} cartCount={cartCount} />\n\n      <div className=\"cart-content\">\n        <h2 className=\"cart-title\">Cart</h2>\n\n        {cart.length === 0 ? (\n          <div className=\"cart-empty\">\n            ðŸ›’ Your cart is empty. Go to dashboard to add products!\n          </div>\n        ) : (\n          <>\n            <div className=\"cart-container\">\n              {cart.map(item => (\n                <div className=\"cart-item\" key={item.id}>\n                  <div className=\"cart-item-info\">\n                    <h4>{item.name}</h4>\n                    <p>â‚¹{item.price.toLocaleString()}</p>\n                  </div>\n                  <div className=\"cart-item-controls\">\n                    <div className=\"qty-controls\">\n                      <button className=\"qty-btn\" onClick={() => updateQty(item.id, -1)}>âˆ’</button>\n                      <span className=\"qty-value\">{item.quantity}</span>\n                      <button className=\"qty-btn\" onClick={() => updateQty(item.id, 1)}>+</button>\n                    </div>\n                    <button className=\"btn-remove\" onClick={() => removeItem(item.id)}>Remove</button>\n                  </div>\n                </div>\n              ))}\n            </div>\n            <div className=\"cart-total\">\n              Total: â‚¹{total.toLocaleString('en-IN', { minimumFractionDigits: 2 })}\n            </div>\n          </>\n        )}\n      </div>\n\n      {toast && <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}